var app=webpackJsonp_name_([1],{"08kH":function(t,e,i){"use strict";e.a={getSyncStorage:function(t,e){chrome.storage.sync.get(t,function(i){console.log(t+" value currently is(sync): "),console.log(i),e&&e(i)})},setSyncStorage:function(t,e){chrome.storage.sync.set(t,function(){console.log("Obj is saved(sync):"),console.log(t),e&&e()})},rmSyncStorage:function(t,e){chrome.storage.sync.remove(t,function(){e&&e()})},getLocalStorage:function(t,e){chrome.storage.local.get(t,function(i){console.log(t+" value currently is(local): "),console.log(i),e&&e(i)})},setLocalStorage:function(t,e){chrome.storage.local.set(t,function(){console.log("Obj is saved(local):"),console.log(t),e&&e()})},rmLocalStorage:function(t,e){chrome.storage.local.remove(t,function(){e&&e()})}}},"0V+A":function(t,e,i){var s=i("RZrz");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("rjj0").default;a("1241edae",s,!0,{})},"0qmm":function(t,e,i){"use strict";var s=i("7+uW"),a=i("/ocq"),n=i("u6qI"),o=i("wY5K"),r=i("h82/");s.default.use(a.a),e.a=new a.a({routes:[{path:"/Tasks",name:"Tasks",component:n.a},{path:"/Task/:taskId",name:"Task",component:o.a},{path:"/History",name:"History",component:r.a},{path:"*",beforeEnter:function(t,e,i){i(t.query&&t.query.route?t.query.route:"/Tasks")}}]})},"3vht":function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'\n.el-dialog{font-weight:600\n}\n.el-input__inner,.el-textarea__inner{font-family:"Courier New",Courier,monospace;border-color:#888;color:#000\n}\n.el-input__inner:hover,.el-textarea__inner:hover{border-color:#666\n}\n.el-slider__runway{background-color:#aaa\n}\n.el-form-item__label{color:#000\n}\n.todayTasks-list{margin-top:10px\n}\n.todayTasks-list-placeholder{font-size:40px;text-align:center;margin-top:10%\n}\n.todayTasks-list__item{margin:10px 0 0 10px;padding:0 10px;background:#071b19;height:300px;position:relative;border:2px solid #071b19\n}\n.todayTasks-list__item:hover{border:2px solid #397a6d\n}\n.todayTasks-list__item-title{font-size:20px;margin:10px 0\n}\n.todayTasks-list__item-desc{font-size:14px;min-height:200px\n}\n.todayTasks-list__item-icons{position:absolute;width:100%;bottom:10px;right:10px;font-size:18px;text-align:right\n}\n.todayTasks-list__item-icons__item{margin-left:5px\n}\n',""])},"7b7R":function(t,e,i){"use strict";var s=i("sumc"),a=i("LEg4"),n=i("XyMi"),o=Object(n.a)(s.a,a.a,a.b,!1,null,null,null);e.a=o.exports},"8Vrl":function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"c-title"},[i("i",{staticClass:"el-icon-back c-title__back",class:"started"==t.task.state?"c-title__back--hide":"",on:{click:function(e){"started"!=t.task.state&&t.$router.go(-1)}}}),t._v(" "),i("span",{staticClass:"c-color--primary"},[t._v(t._s(t.task.title))])]),t._v(" "),i("div",{staticClass:"task"},[i("el-row",[i("el-col",{staticClass:"task-item f-tc",attrs:{span:4}},["started"==t.task.state?i("span",{staticClass:"icon-stop-circle task-item__icon",attrs:{title:"stop"},on:{click:function(e){t.changeTaskState("prepare")}}}):i("span",{staticClass:"icon-play-circle task-item__icon",attrs:{title:"start"},on:{click:function(e){t.changeTaskState("started")}}})]),t._v(" "),i("el-col",{staticClass:"task-item",attrs:{span:6}},[i("span",{staticClass:"task-item__time",attrs:{id:"countdown"}},["started"==t.task.state?i("count-down",{attrs:{endTime:t.endTime,timeUnit:t.task.basicTimeUnit,callback:t.timeEndCallback,endText:"00:00"}}):i("span",[t._v("\n            00:00\n          ")])],1)]),t._v(" "),i("el-col",{staticClass:"task-item",attrs:{span:4}},[i("span",{staticClass:"task-item__desc"},[t._v(t._s(t.task.desc))])]),t._v(" "),i("el-col",{staticClass:"task-item",attrs:{span:10}},[i("div",{staticClass:"task-item__statistics"},[i("div",{staticClass:"task-item__statistics__item"},[i("i",{staticClass:"el-icon-circle-check-outline task-item__statistics__item-icon"}),t._v(" "),i("span",[t._v("Estimated  "+t._s(t.task.estimate))])]),t._v(" "),i("div",{staticClass:"task-item__statistics__item"},[i("i",{staticClass:"el-icon-circle-check task-item__statistics__item-icon"}),t._v(" "),i("span",[t._v("Completed  "+t._s(t.task.finished))])])])])],1)],1)])},a=[]},"8u3p":function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"c-title"},[i("i",{staticClass:"el-icon-back c-title__back",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),i("span",{staticClass:"c-color--primary"},[t._v("My history")])]),t._v(" "),i("div",{staticClass:"history"},[t.histories.length?t._e():i("div",{staticClass:"todayTasks-list-placeholder"},[t._v("\n          No history~\n      ")]),t._v(" "),t._l(t.histories,function(e){return i("div",{key:e.createdTime,staticClass:"history-list"},[i("div",{staticClass:"history-list-title"},[t._v(t._s(e.createdTime))]),t._v(" "),i("el-row",{staticClass:"history-list-tasks"},t._l(e.list,function(e){return i("el-col",{key:e.id,staticClass:"history-list-tasks__item",attrs:{span:6}},[i("div",{staticClass:"history-list-tasks__item-title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"history-list-tasks__item-icons"},[i("i",{staticClass:"el-icon-circle-check-outline history-list-tasks__item-icons__item"},[t._v(t._s(e.estimate))]),i("i",{staticClass:"el-icon-circle-check history-list-tasks__item-icons__item"},[t._v(t._s(e.finished))])])])}))],1)})],2)])},a=[]},BSd8:function(t,e,i){"use strict";var s=i("F5/G"),a=i.n(s),n=i("Jq0Y");e.a={data:function(){return{}},computed:{histories:function(){var t=[];return this.$store.getters.allTasks.forEach(function(e){var i=a()(e.createdTime).format("YYYY-MM-DD"),s=n.a.haveItem(t,"createdTime",i);s?s.list.push(e):t.push({createdTime:i,list:[e]})}),t}},created:function(){},mounted:function(){console.log(this.histories)},beforeDestroy:function(){},methods:{}}},Jq0Y:function(t,e,i){"use strict";var s=i("F5/G");i.n(s);e.a={getGUID:function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)})},checkTask:function(t){return!(!t||!t.title)},isSameDay:function(t,e){return t.format("YYYY")==e.format("YYYY")&&t.format("MM")==e.format("MM")&&t.format("DD")==e.format("DD")},haveItem:function(t,e,i){if(!t.length||!t[0][e])return null;for(var s=t.length,a=0;a<s;a++)if(t[a][e]==i)return t[a];return null}}},LEg4:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{attrs:{endTime:t.endTime,callback:t.callback,endText:t.endText}},[t._t("default",[t._v("  \n    "+t._s(t.content||"00:00")+"  \n  ")])],2)},a=[]},NowG:function(t,e,i){"use strict";var s=i("mvHQ"),a=i.n(s),n=i("7+uW"),o=i("NYxO"),r=i("08kH");n.default.use(o.a),e.a=new o.a.Store({state:{allTasks:[],loadAllTasksOk:!1},mutations:{addTask:function(t,e){t.allTasks.push(e)},updateTask:function(t,e){for(var i=e.taskId,s=e.task,a=t.allTasks,n=a.length,o=0;o<n;o++)a[o]&&a[o].id==i&&(a[o].finished=s.finished)}},actions:{loadTasks:function(t,e){var i=t.commit;r.a.getSyncStorage("timeReminder_allDB",function(t){var s=t.timeReminder_allDB;if(s){var a=JSON.parse(s);a&&a.forEach(function(t){i("addTask",t)})}e&&e()})},addTask:function(t,e){var i=t.commit;e&&i("addTask",e)},saveTasks:function(t){var e=t.getters,i=e.allTasks,s={timeReminder_allDB:a()(i)};r.a.setSyncStorage(s)},rmTasks:function(){r.a.rmSyncStorage(["timeReminder_allDB"])}},getters:{allTasks:function(t){return t.allTasks}}})},Q4Bc:function(t,e,i){"use strict";var s=i("F5/G"),a=i.n(s),n=i("Jq0Y"),o=function(t,e,i){e<1?i(new Error("The estimate must ranges from 1 to 5")):i()};e.a={data:function(){return{dialogVisible:!1,formLabelWidth:"120px",form:{title:"",desc:"",estimate:1},rules:{title:[{required:!0,message:"You must input task title",trigger:"blur"}],desc:[],estimate:[{validator:o,trigger:"change"},{required:!0,message:"You must input task estimate",trigger:"blur"}]}}},computed:{todayTasks:function(){return this.$store.getters.allTasks.filter(function(t){var e=a()(t.createdTime),i=a()();return n.a.isSameDay(e,i)})}},created:function(){},mounted:function(){},methods:{tellHistory:function(){this.$router.push({name:"History"})},router:function(t){this.$router.push(t)},ensureAddTask:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var i={id:n.a.getGUID(),title:e.form.title,desc:e.form.desc,estimate:e.form.estimate,basicTimeUnit:45,finished:0,state:"prepare",createdTime:(new Date).getTime()};return e.form.title="",e.form.desc="",n.a.checkTask(i)&&(e.$store.dispatch("addTask",i),e.$store.dispatch("saveTasks"),e.dialogVisible=!1),!0}return!1})},addTask:function(){this.dialogVisible=!0}}}},RZrz:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n.history-list-title{color:#397a6d;font-size:30px;margin:10px 0 0 20px\n}\n.history-list-tasks__item{margin:10px 0 0 10px;padding:0 10px;background:#071b19;height:150px;position:relative;border:2px solid #071b19\n}\n.history-list-tasks__item-title{font-size:15px;margin:10px 0\n}\n.history-list-tasks__item-icons{position:absolute;width:100%;bottom:10px;right:10px;font-size:14px;text-align:right\n}\n.history-list-tasks__item-icons__item{margin-left:5px\n}\n",""])},Tr2P:function(t,e,i){"use strict";var s=i("F5/G"),a=i.n(s),n=i("9z9a");i.n(n);e.a={data:function(){return{myAudio:null,notification_id:null,startCountdown:!1,startTime:a()().stamp(),_task:{}}},computed:{taskId:function(){return this.$route.params.taskId},task:function(){var t=this.$route.params.taskId,e=this.$store.getters.allTasks,i={};return e.forEach(function(e){e.id==t&&(i=e)}),this._task=i,i},endTime:function(){return(this.startTime+1*this.task.basicTimeUnit*60*1e3+1e3).toString()}},created:function(){},mounted:function(){},beforeDestroy:function(){this.myAudio&&this.closeNotif()},methods:{changeTaskState:function(t){var e=this;"prepare"==t?this.$confirm("You want stop the task?","Info",{confirmButtonText:"ensure",cancelButtonText:"cancel",type:"warning"}).then(function(){e.task.state=t,e.startTime=a()().stamp()}).catch(function(){}):(e.task.state=t,e.startTime=a()().stamp())},closeNotif:function(){this.myAudio.pause(),this.myAudio.load(),chrome.notifications.clear(this.notification_id)},timeEndCallback:function(){var t=this,e={type:"basic",title:"Time is up!",message:'The time of task "'+this.task.title+'" is up.',priority:1,iconUrl:"../images/timeUp.jpg",requireInteraction:!0};this._task.finished+=1,this._task.state="finished",this.$store.commit("updateTask",{taskId:this.taskId,task:this._task}),this.$store.dispatch("saveTasks"),this.myAudio=new Audio,this.myAudio.src="../audios/audio.aac",this.myAudio.play(),chrome.notifications.create(null,e,function(e){t.notification_id=e}),chrome.notifications.onClosed.addListener(function(){t.closeNotif()})}}}},UnyN:function(t,e,i){var s=i("tg0g");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("rjj0").default;a("ccfcfb42",s,!0,{})},Wb6Y:function(t,e,i){var s=i("f5Ha");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("rjj0").default;a("728aa624",s,!0,{})},a0iW:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},a=[]},evzl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),a=i("fi5Q"),n=i("0qmm"),o=i("NowG"),r=i("zL8q"),c=i.n(r),l=i("x7ud"),u=(i.n(l),i("7b7R"));s.default.config.productionTip=!1,s.default.use(c.a),s.default.component("count-down",u.a);var d=r.Loading.service({text:"Loading data"});o.a.dispatch("loadTasks",function(){d.close(),new s.default({el:"#app",router:n.a,store:o.a,render:function(t){return t(a.a)}})})},f5Ha:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},fi5Q:function(t,e,i){"use strict";function s(t){i("Wb6Y")}var a=i("h+CD"),n=i("a0iW"),o=i("XyMi"),r=s,c=Object(o.a)(a.a,n.a,n.b,!1,r,null,null);e.a=c.exports},"h+CD":function(t,e,i){"use strict";e.a={name:"app",data:function(){},beforeMount:function(){},mounted:function(){}}},"h82/":function(t,e,i){"use strict";function s(t){i("0V+A")}var a=i("BSd8"),n=i("8u3p"),o=i("XyMi"),r=s,c=Object(o.a)(a.a,n.a,n.b,!1,r,null,null);e.a=c.exports},levS:function(t,e,i){var s=i("3vht");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=i("rjj0").default;a("255ff02e",s,!0,{})},mnNH:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return a});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"c-title"},[i("span",{staticClass:"c-color--primary",staticStyle:{"margin-left":"15px"}},[t._v("For Today")]),t._v(" "),i("span",[i("span",{staticClass:"c-title__btn",on:{click:t.addTask}},[i("i",{staticClass:"el-icon-circle-plus-outline c-title__btn-icon"}),t._v("\n        Add Task\n      ")]),t._v(" "),i("span",{staticClass:"f-ml05 c-title__btn",on:{click:t.tellHistory}},[i("i",{staticClass:"icon-database c-title__btn-icon"}),t._v("\n        Tell history\n      ")])])]),t._v(" "),i("el-row",{staticClass:"todayTasks-list"},[t.todayTasks.length?t._e():i("div",{staticClass:"todayTasks-list-placeholder"},[t._v("\n      Add a task~\n    ")]),t._v(" "),t._l(t.todayTasks,function(e){return i("el-col",{key:e.id,staticClass:"todayTasks-list__item",attrs:{span:6}},[i("div",{staticClass:"todayTasks-list__item-title c-color--primary",on:{click:function(i){t.router({name:"Task",params:{taskId:e.id}})}}},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"todayTasks-list__item-desc",on:{click:function(i){t.router({name:"Task",params:{taskId:e.id}})}}},[t._v(t._s(e.desc))]),t._v(" "),i("div",{staticClass:"todayTasks-list__item-icons"},[i("i",{staticClass:"el-icon-circle-check-outline todayTasks-list__item-icons__item"},[t._v(t._s(e.estimate))]),i("i",{staticClass:"el-icon-circle-check todayTasks-list__item-icons__item"},[t._v(t._s(e.finished))])])])})],2),t._v(" "),i("el-dialog",{attrs:{title:"Add Task",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"top"}},[i("el-form-item",{attrs:{label:"Title",prop:"title","label-width":t.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Description",prop:"desc","label-width":t.formLabelWidth}},[i("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:4},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Estimate:"+t.form.estimate,prop:"estimate","label-width":t.formLabelWidth}},[i("el-slider",{attrs:{min:0,max:5,step:1,"show-stops":""},model:{value:t.form.estimate,callback:function(e){t.$set(t.form,"estimate",e)},expression:"form.estimate"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("Cancel")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.ensureAddTask("form")}}},[t._v("Add")])],1)],1)],1)},a=[]},sumc:function(t,e,i){"use strict";var s=i("Gu7T"),a=i.n(s);e.a={data:function(){return{content:""}},props:{endTime:{type:String,default:""},timeUnit:{type:Number,default:45},endText:{type:String,default:"00:00"},callback:{type:Function,default:""}},mounted:function(){this.countdowm(this.endTime)},methods:{countdowm:function(t){var e=this,i=setInterval(function(){var s=new Date,a=new Date(parseInt(t)),n=a.getTime()-s.getTime();if(n>0){var o=Math.floor(n/864e5),r=Math.floor(n/36e5%24),c=Math.floor(n/6e4%60),l=Math.floor(n/1e3%60);r=r<10?"0"+r:r,c=c<10?"0"+c:c,l=l<10?"0"+l:l;var u="";o>0&&(u=o+"天"+r+"小时"+c+"分"+l+"秒"),o<=0&&r>0&&(u=r+":"+c+":"+l),o<=0&&r<=0&&(u=c+":"+l),e.content=u}else clearInterval(i),e.content=e.endText,e._callback()},1e3)},_callback:function(){this.callback&&this.callback instanceof Function&&this.callback.apply(this,a()(this))}}}},tg0g:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"\n.task{margin:20px;background:#071b19;min-height:250px\n}\n.task-item__icon{font-size:50px;line-height:240px;color:#ccc;cursor:pointer\n}\n.task-item__icon:hover{color:#eee\n}\n.task-item__time{font-size:100px;line-height:250px;color:#ccc\n}\n.task-item__desc{font-size:14px;display:inline-block;padding:90px 0\n}\n.task-item__statistics{color:#eee;margin:85px 0;text-align:left\n}\n.task-item__statistics__item{width:35%;text-align:right;font-size:18px;font-weight:600;margin-top:10px\n}\n.task-item__statistics__item-icon{font-size:24px\n}\n",""])},u6qI:function(t,e,i){"use strict";function s(t){i("levS")}var a=i("Q4Bc"),n=i("mnNH"),o=i("XyMi"),r=s,c=Object(o.a)(a.a,n.a,n.b,!1,r,null,null);e.a=c.exports},wY5K:function(t,e,i){"use strict";function s(t){i("UnyN")}var a=i("Tr2P"),n=i("8Vrl"),o=i("XyMi"),r=s,c=Object(o.a)(a.a,n.a,n.b,!1,r,null,null);e.a=c.exports},x7ud:function(t,e){}},["evzl"]);